<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8">
  <title>Yoklama Sistemi</title>
</head>
<body>
  <h1>Yoklama</h1>

  <input type="text" id="name" placeholder="Ad Soyad" />
  <button onclick="submitYoklama()">Yoklama Gönder</button>

  <div id="result"></div>

  <script>
    function submitYoklama() {
      const name = document.getElementById("name").value.trim();

      if (!name) {
        alert("Lütfen ad soyad girin.");
        return;
      }

      fetch("https://script.google.com/macros/s/AKfycbwoLGT2vXo3Vd-JiA-_wW4rJTatPjf2oafWnaT8EtXpwdPWiZqr8OT7HBpwOxLsanUW/exec", {
        method: "POST",
        headers: {
          "Content-Type": "application/json"
        },
        body: JSON.stringify({ name })
      })
      .then(response => response.json())
      .then(data => {
        if (data.result === "success") {
          alert("Yoklama alındı!");
        } else {
          alert("Sunucudan beklenmeyen yanıt: " + JSON.stringify(data));
        }
      })
      .catch(err => {
        alert("Hata oluştu: " + err.message);
        console.error(err);
      });
    }
  </script>
</body>
</html>

